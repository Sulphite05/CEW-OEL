 FILE *fptr;
    char *url = "http://api.openweathermap.org/data/2.5/weather?q=Karachi&appid=ac40257f82101fbacf3f2dee95130387";
    char outfilename[FILENAME_MAX] = "output.json";
    int i = 0;
    EnvironmentalData *data = NULL; // an array of struct EnvironmentalData

    // Beginning of CURL specific functions to retrieve data
    CURL *curl;
    CURLcode res;
    curl = curl_easy_init();
    if (curl)
    {
        fptr = fopen(outfilename, "wb");
        curl_easy_setopt(curl, CURLOPT_URL, url);                  // sets option of URL
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, write_file); // sets option of write function
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, fptr);           // sets option of write data stream
        res = curl_easy_perform(curl);                             // performs the http request
        curl_easy_cleanup(curl);
        fclose(fptr);
    }
    else
    {
        printf("Failed to initialise CURL");
    }
    // End of CURL specific query setter

    data = realloc(data, sizeof(EnvironmentalData) * (i+1));
    data[i] = parse_data(cont); // retrieves global variable containing content of current query
    analyze_data(data[i]);
    save_data(data[i]);
    i += 1;
    return 0;

    static size_t write_file(void *contents, size_t size, size_t nmemb, void *file_name)
{   // arguments will be passed by default by curl function curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, write_file);
    size_t written = fwrite(contents, size, nmemb, (FILE *)file_name);
    cont = contents;
    return written;
}